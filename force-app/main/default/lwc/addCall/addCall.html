<template>
    <div>
        <lightning-card>
            <h3 slot="title">
                <lightning-icon icon-name='action:call' alternative-text='call' size='Small' title='call'></lightning-icon>
                &nbsp;
                <template if:false={factorform}> Add Calls</template>
               
            </h3>
            <!-- <lightning-button-icon icon-name="utility:add" slot="actions" onclick={addRow}></lightning-button-icon> -->
            <!-- <lightning-button 
                label="Clear All" 
                icon-name="utility:clear" 
                slot="actions"
                onclick={clearRec}
                class="slds-m-left_small">
            </lightning-button> -->

            <template for:each={itemList} for:item="item" for:index="index">
                <lightning-record-edit-form key={item.id} onsubmit={handleSubmits} object-api-name="OJT_Call__c" data-item={index}>
                    <div>
                        <lightning-messages> </lightning-messages>
                        <lightning-layout multiple-rows class="slds-p-bottom_medium">
                            <lightning-layout-item size="12" small-device-size="4" medium-device-size="4" large-device-size="4">
                                <label for={index} style="text-size-adjust: 2px;">Customer Name</label>
                                <lightning-input-field data-id={index} id={index} field-name="Customer_Name__c" variant="label-hidden" ></lightning-input-field>
                            </lightning-layout-item>

                            <lightning-layout-item class="slds-p-left_large" size="12" small-device-size="4" medium-device-size="4" large-device-size="4">
                               <label for={index} style="text-size-adjust: 2px;">Decision Maker</label>
                                <lightning-input-field data-id={index} id={index} field-name="Decision_Maker__c" variant="label-hidden"></lightning-input-field>
                            </lightning-layout-item>
                            
                            <lightning-layout-item class="slds-p-left_large" size="12" small-device-size="4" medium-device-size="4" large-device-size="4">
                                <label for={index} style="text-size-adjust: 2px;">Contact Person/Designation</label>
                                 <lightning-input-field data-id={index} id={index} field-name="Contact_Person_Designation__c" variant="label-hidden"></lightning-input-field>
                             </lightning-layout-item>
                             
                             <!--Field Hidden-->
                            <!--<lightning-layout-item  class="slds-p-left_large slds-hide" size="12" small-device-size="4" medium-device-size="4" large-device-size="4">
                                <label for={index} style="text-size-adjust: 2px;">OJT Feedback Form</label>
                                <lightning-input-field data-id={index} id={index} field-name="OJT_Feedback_Form__c" value={OJTRecordId} variant="label-hidden" ></lightning-input-field>
                            </lightning-layout-item>-->

                             <lightning-layout-item size="12" small-device-size="4" medium-device-size="4" large-device-size="4">
                                <label for={index} style="text-size-adjust: 2px;">Decision Maker Name</label>
                                 <lightning-input-field data-id={index} id={index} field-name="Decision_Maker_Name__c" variant="label-hidden"></lightning-input-field>
                             </lightning-layout-item>

                             <lightning-layout-item class="slds-p-left_large" size="12" small-device-size="4" medium-device-size="4" large-device-size="4">
                                <label for={index} style="text-size-adjust: 2px;">Decision Maker Designation</label>
                                 <lightning-input-field data-id={index} id={index} field-name="Decision_Maker_Designation__c" variant="label-hidden"></lightning-input-field>
                             </lightning-layout-item>

                             <div class="slds-col slds-size_1-of-1">
                             </br>
                                <h2><strong>How did you do in this call? Mention the 3 things you felt you did well during the call.</strong></h2>
                            </div>
                             <lightning-layout-item size="12" small-device-size="4" medium-device-size="4" large-device-size="4">
                                <label for={index} style="text-size-adjust: 2px;">User's Feedback</label>
                                 <lightning-input-field data-id={index} id={index} field-name="Feedback_1__c" variant="label-hidden"></lightning-input-field>
                             </lightning-layout-item>

                             <lightning-layout-item class="slds-p-left_large" size="12" small-device-size="4" medium-device-size="4" large-device-size="4">
                                <label for={index} style="text-size-adjust: 2px;">Manager's Observation and Feedback</label>
                                 <lightning-input-field data-id={index} id={index} field-name="Feedback_2__c" variant="label-hidden"></lightning-input-field>
                             </lightning-layout-item>
                             
                             <div class="slds-col slds-size_1-of-1">
                                </br>
                               <h2><strong>What are the 3 things you felt, you could have done better?</strong></h2>
                            </div>

                             <lightning-layout-item size="12" small-device-size="4" medium-device-size="4" large-device-size="4">
                                <label for={index} style="text-size-adjust: 2px;">User's Feedback</label>
                                 <lightning-input-field data-id={index} id={index} field-name="Feedback_4__c" variant="label-hidden"></lightning-input-field>
                             </lightning-layout-item>

                             <lightning-layout-item class="slds-p-left_large" size="12" small-device-size="4" medium-device-size="4" large-device-size="4">
                                <label for={index} style="text-size-adjust: 2px;">Manager's Observation and Feedback</label>
                                 <lightning-input-field data-id={index} id={index} field-name="Feedback_3__c" variant="label-hidden"></lightning-input-field>
                             </lightning-layout-item>

                            <lightning-layout-item size="12" small-device-size="3" medium-device-size="3" large-device-size="2">
                                <div class="slds-p-top_large">
                                    <lightning-icon icon-name="utility:delete" access-key={item.id} id={index}
                                        alternative-text="Delete Row" size="small" title="Delete Row" onclick={removeRow}>
                                    </lightning-icon>
                                    <input type="submit" class="hidden" data-item={index} style="display: none;"/>
                                </div>
                            </lightning-layout-item>
                        </lightning-layout>
                    </div>
                </lightning-record-edit-form>
            </template>
        </lightning-card>
    </div>
</template>